import backendApi from '../apis/BackendApi';

const AuthService = {

    login: (username, password) => {
        
        backendApi.post('/auth/login', { username: username, password: password })
            .then(response => {
                let user = {
                    accessToken: response.data.accessToken,
                    expiresIn: response.data.expiresIn
                }
                localStorage.setItem('currentUser', JSON.stringify(user));
                window.location = 'http://localhost:3000';
            })
            .catch(error => {
                alert(error.message);
            })

    },

    logout: () => {
        backendApi.post('/auth/logout')
            .then(response => {
                localStorage.removeItem('currentUser');
                window.location = 'http://localhost:3000/login';
            })
            .catch(error => {
                alert(error);
            })
    }
}


export default AuthService