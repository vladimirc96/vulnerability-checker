import backendApi from '../apis/BackendApi';
import { findAllByAltText } from '@testing-library/react';

const RepositoryService = {

    addRepo: (data, addRepository) => {
        backendApi.post('/repository', data)
            .then(response => {
                alert("Repo added successfull");
                addRepository(response.data);
            })
            .catch(error => {
                alert('Could not add repository!');
            })
            
    },

    findAll: () => {
        return backendApi.get('/repository')
            .then(response => {
                return response.data;
            })
            .catch(error => {
                alert(error);
            })
    },

    scan: (repoId) => {
      return backendApi.put('/repository/scan/' + repoId)
            .then(response => {
                return response.data;
            })
            .catch(error => {
                alert(error);
            })
    }


}

export default RepositoryService