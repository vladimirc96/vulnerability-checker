import backendApi from '../apis/BackendApi';

const RepositoryService = {

    addRepo: (data, addRepository) => {
        backendApi.post('/repository', data)
            .then(response => {
                alert("Repo added successfull");
                addRepository(response.data);
            })
            .catch(error => {
                alert('Could not add repository!');
            })
            
    },

    findAll: () => {
        return backendApi.get('/repository')
            .then(response => {
                return response.data;
            })
            .catch(error => {
                alert(error);
            })
    },

    scan: (ownerName, repoId) => {
      return backendApi.put('/repository/scan/' + ownerName + '/' + repoId)
            .then(response => {
                return response.data;
            })
            .catch(error => {
                alert(error);
            })
    },

    findById: (repoId) => {
        return backendApi.get('/repository/' + repoId).then(
            (response) => {
                return response.data;
            }
        ).catch(error => alert(error));
    },

    findAllOrderByOwnerName: () => {
        return backendApi.get('/repository/owner-name').then(
            (response) => {
                return response.data;
            }
        ).catch(error => alert(error));
    }


}

export default RepositoryService